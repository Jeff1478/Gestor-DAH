<app-header></app-header>

<!-- <div class="center">


    <section id="content.contexto">
        <h1 class="subheader-sitio">{{page_title}}</h1>
        
        <form class="mid-form" #contextoForm="ngForm" (ngSubmit)="OnSubmit()">

            <div class="accordion accordion-flush" id="accordionFlushExample">

                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                            Datos Generales
                        </button>
                    </h2>

                    <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">

                            
                            <div class="row g-3">
                                <div class="col-md-3">
                                    <label for="nom_mon">Nombre Monumento</label>
                                    <input type="text" class="form-control" name="nom_mon" #nom_mon="ngModel"
                                        [(ngModel)]="sitio.nombre_sitio">
                                </div>
                                <div class="col-md-3">
                                    <label for="clave_sitio">Clave</label>
                                    <input type="text" class="form-control" name="clave_sitio"
                                        #clave_sitio="ngModel" [(ngModel)]="sitio.clave_sitio">
                                </div>
                                <div class="col-md-3">
                                    <label for="clave_antigua">Clave Antigua</label>
                                    <input type="text" class="form-control" name="clave_antigua" #clave_antigua="ngModel"
                                        [(ngModel)]="sitio.clave_antigua">
                                </div>
                             
                                 <div class="col-md-3">
                                    <label for="clave_antigua">Clave UCR</label>
                                    <input type="text" class="form-control" name="cod_ucr" #ucr="ngModel"
                                        [(ngModel)]="sitio.cod_ucr">
                                    
                                </div> 
                                
                            </div>
                            <br>
                          
                            <hr>
                            <div class="row g-3">

                                <ng-multiselect-dropdown
                                [placeholder]="'Tipo Proyecto'"
                                [settings]="dropdownSettings"
                                [data]="dropdownList5"
                                [(ngModel)]="selectedItems5"
                                [ngModelOptions]="{standalone: true}"
                                (onSelect)="onItemSelect5($event)"
                                (onSelectAll)="onSelectAll($event)"
                              >
                              </ng-multiselect-dropdown> 
                              <input type="text" class="form-control" name="tipo_proyecto" #tipo_proyecto="ngModel"
                              [(ngModel)]="sitio.tipo_proyecto">
                               
                              
                            </div>

                            <br>
                       
                            <hr>
                            <div class="row g-3">

                                <ng-multiselect-dropdown
                                [placeholder]="'Tipo Monumento'"
                                [settings]="dropdownSettings"
                                [data]="dropdownList6"
                                [(ngModel)]="selectedItems6"
                                [ngModelOptions]="{standalone: true}"
                                (onSelect)="onItemSelect6($event)"
                                (onSelectAll)="onSelectAll($event)"
                              >
                              </ng-multiselect-dropdown> 
                              <input type="text" class="form-control" name="tipo_monumento" #tipo_monumento="ngModel"
                              [(ngModel)]="sitio.tipo_monumento">


                           
                            </div>
                            
                        </div>

                    </div>
                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                            Registro
                        </button>
                    </h2>

                    <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">

                           
                                <div class="row g-3">
                                    <div class="col-md-12">
                                        <label for="registrador">Registrador</label>
                                        <input type="text" class="form-control" name="registrador" #registrador="ngModel"
                                            [(ngModel)]="sitio.registrador">
                                    </div>
                                </div>
                                <br>
                            <h4>Institución</h4>
                            <hr>

                            <div class="row g-3">
                                <div class="col-md-3">
                                    <input class="form-check-input" type="checkbox" name="consultoria" #consultoria [(ngModel)]="sitio.consultoria"
                                    (ngModelChange)="sitio.consultoria=$event? true:false">
                                    <label class="form-check-label" for="consultoria">Consultoría</label>
                                </div>
                                <div class="col-md-3">
                                    <input class="form-check-input" type="checkbox" name="fundacion" #fundacion [(ngModel)]="sitio.fundacion"
                                    (ngModelChange)="sitio.fundacion=$event? true:false">
                                    <label class="form-check-label" for="fundacion">Anastacio Alfaro</label>
                                </div>
                            
                            <div class="col-md-3">
                                <input class="form-check-input" type="checkbox" name="ice" #ice [(ngModel)]="sitio.ice"
                                (ngModelChange)="sitio.ice=$event? true:false">
                                <label class="form-check-label" for="ice">ICE</label>
                            </div>
                            <div class="col-md-3">
                                <input class="form-check-input" type="checkbox" name="literatura" #literatura [(ngModel)]="sitio.literatura"
                                (ngModelChange)="sitio.literatura=$event? true:false">
                                <label class="form-check-label" for="literatura">Literatura</label>
                            </div>
                        </div>

                        <div class="row g-3">
                            <div class="col-md-3">
                                <input class="form-check-input" type="checkbox" name="mncr" #mncr [(ngModel)]="sitio.mncr"
                                (ngModelChange)="sitio.mncr=$event? true:false">
                                <label class="form-check-label" for="mncr">MNCR</label>
                            </div>
                            <div class="col-md-3">
                                <input class="form-check-input" type="checkbox" name="parques_nacionales" #parques_nacionales [(ngModel)]="sitio.parques_nacionales"
                                (ngModelChange)="sitio.parques_nacionales=$event? true:false">
                                <label class="form-check-label" for="parques_nacionales">Parques Nacionales</label>
                            </div>
                            <div class="col-md-3">
                                <input class="form-check-input" type="checkbox" name="ucr" #ucr [(ngModel)]="sitio.ucr"
                                (ngModelChange)="sitio.ucr=$event? true:false">
                                <label class="form-check-label" for="ucr">UCR</label>
                            </div>
                        </div>
                        <hr>
                        <div class="row g-3">
                            <div class="col-md-12">
                                <label for="hallazgo">Hallazgo</label>
                                <input type="text" class="form-control" name="hallazgo" #hallazgo="ngModel"
                                    [(ngModel)]="sitio.hallazgo">
                            </div>
                            <div class="col-md-12">
                                <label for="fecha_registro">Fecha Registro</label>
                                <input type="date" class="form-control" name="fecha_registro" #fecha_registro="ngModel"
                                    [(ngModel)]="sitio.fecha_registro">
                            </div>
                        </div>
                            
                        </div>

                    </div> 

                </div>  

                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                            Localización
                        </button>
                    </h2>

                    <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">

                            
                          
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <label for="provincia">Provincia</label>
                                        <input type="text" class="form-control" name="provincia" #provincia="ngModel"
                                            [(ngModel)]="sitio.provincia">
                                    </div>

                                    <div class="col-md-3">
                                        <label for="canton">Cantón</label>
                                        <input type="text" class="form-control" name="canton" #canton="ngModel"
                                            [(ngModel)]="sitio.canton">
                                    </div>

                                    <div class="col-md-3">
                                        <label for="distrito">Distrito</label>
                                        <input type="text" class="form-control" name="distrito" #distrito="ngModel"
                                            [(ngModel)]="sitio.distrito">
                                    </div>

                                    <div class="col-md-3">
                                        <label for="hoja_cartografica">Hoja Cartográfica</label>
                                        <input type="text" class="form-control" name="hoja_cartografica" #hoja_cartografica="ngModel"
                                            [(ngModel)]="sitio.hoja_cartografica">
                                    </div>
                                </div>
                                
                                <div class="row g-3">
                                    <div class="col-md-12">
                                        <label for="direccion">Dirección</label>
                                        <input type="text" class="form-control" name="direccion" #direccion="ngModel"
                                            [(ngModel)]="sitio.direccion">
                                    </div>
                                </div>
                                <br>
                                <hr>
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <label for="region">Región Arqueológica</label>
                                        <input type="text" class="form-control" name="region" #region="ngModel"
                                            [(ngModel)]="sitio.region">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="zona_vida">Zona de Vida</label>
                                        <input type="text" class="form-control" name="zona_vida" #zona_vida="ngModel"
                                            [(ngModel)]="sitio.zona_vida">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="altitud">Altitud</label>
                                        <input type="text" class="form-control" name="altitud" #altitud="ngModel"
                                            [(ngModel)]="sitio.altitud">
                                    </div>
                                    <div class="col-md-3">
                                        <input class="form-check-input" type="checkbox" name="territorio_indigena" #territorio_indigena [(ngModel)]="sitio.territorio_indigena"
                                            (ngModelChange)="sitio.territorio_indigena=$event? true:false">
                                            <label class="form-check-label" for="territorio_indigena">Territorio Indigena</label>
                                    </div>
                                </div>
                                <br>
                                <hr>

                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <label for="lambert_oe">Lambert OE</label>
                                        <input type="text" class="form-control" name="lambert_oe" #lambert_oe="ngModel"
                                            [(ngModel)]="sitio.lambert_oe">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="lambert_ns">Lambert NS</label>
                                        <input type="text" class="form-control" name="lambert_ns" #lambert_ns="ngModel"
                                            [(ngModel)]="sitio.lambert_ns">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="crtm05_n">CRTM05 N</label>
                                        <input type="text" class="form-control" name="crtm05_n" #crtm05_n="ngModel"
                                            [(ngModel)]="sitio.crtm05_n">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="crtm05_e">CRTM05 E</label>
                                        <input type="text" class="form-control" name="crtm05_e" #crtm05_e="ngModel"
                                            [(ngModel)]="sitio.crtm05_e">
                                    </div>

                                    <div class="row g-3">
                                        <h3>Latitud</h3>
                                        <div class="col-md-3">
                                            <label for="grad_lat">Grados</label>
                                            <input type="number" class="form-control" name="grad_lat" #grad_lat="ngModel"
                                                [(ngModel)]="sitio.grad_lat">
                                        </div>
                                        <div class="col-md-3">
                                            <label for="min_lat">Minutos</label>
                                            <input type="number" class="form-control" name="min_lat" #min_lat="ngModel"
                                                [(ngModel)]="sitio.min_lat">
                                        </div>
                                        <div class="col-md-3">
                                            <label for="seg_lat">Segundos</label>
                                            <input type="number" (change)="cambiarcoordenadas()" class="form-control" name="seg_lat" #seg_lat="ngModel"
                                                [(ngModel)]="sitio.seg_lat">
                                        </div>
                                        <div class="col-md-3">
                                           <h4>Latitud Decimal : {{sitio.latitude}}</h4> 
                                        </div>
                                    </div>

                                    <div class="row g-3">
                                        <h3>Longitud</h3>
                                        <div class="col-md-3">
                                            
                                            <label for="grad_long">Grados</label>
                                            <input type="number" class="form-control" name="grad_long" #grad_long="ngModel"
                                                [(ngModel)]="sitio.grad_long">
                                        </div>
                                        <div class="col-md-3">
                                            <label for="min_long">Minutos</label>
                                            <input type="number" class="form-control" name="min_long" #min_long="ngModel"
                                                [(ngModel)]="sitio.min_long">
                                        </div>
                                        <div class="col-md-3">
                                            <label for="seg_log">Segundos</label>
                                            <input type="number" (change)="cambiarcoordenadaslong()" class="form-control" name="seg_log" #seg_log="ngModel"
                                                [(ngModel)]="sitio.seg_log">
                                        </div>
                                        <div class="col-md-3">
                                            <h4>Longitud Decimal : {{sitio.Logitude}}</h4> 
                                         </div>
                                    </div>

                                    <div class="row g-3">
                                        <div class="col-md-3">
                                            <input class="form-check-input" type="checkbox" name="localizacion_gps" #localizacion_gps [(ngModel)]="sitio.localizacion_gps"
                                            (ngModelChange)="sitio.localizacion_gps=$event? true:false">
                                            <label class="form-check-label" for="localizacion_gps">Localización GPS</label>
                                        </div>
                                    </div>


                                </div>

                            
                           
                        </div>

                    </div>
                </div> 

                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                            Temporalidad
                        </button>
                    </h2>

                    <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">

                           
                                <div class="row g-3">
                                    <div class="col-md-12">
                                        <label for="composicion_cronologica">Composición</label>
                                        <input type="text" class="form-control" name="composicion_cronologica" #composicion_cronologica="ngModel"
                                            [(ngModel)]="sitio.composicion_cronologica">
                                    </div>
                                </div>
                                <br>
                                <div class="row g-3">
                                    <h3>Período</h3>
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="diezmil_ochomil_ac" #diezmil_ochomil_ac [(ngModel)]="sitio.diezmil_ochomil_ac"
                                            (ngModelChange)="sitio.diezmil_ochomil_ac=$event? true:false">
                                            <label class="form-check-label" for="diezmil_ochomil_ac">10.000-8000 aC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_1"></label>
                                        <input type="text" class="form-control" name="fase_1" #fase_1="ngModel"
                                            [(ngModel)]="sitio.fase_1">
                                    </div>
                                </div>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="mil_tres_cincuenta_mil_quinientos_dc" #mil_tres_cincuenta_mil_quinientos_dc [(ngModel)]="sitio.mil_tres_cincuenta_mil_quinientos_dc"
                                            (ngModelChange)="sitio.mil_tres_cincuenta_mil_quinientos_dc=$event? true:false">
                                            <label class="form-check-label" for="mil_tres_cincuenta_mil_quinientos_dc">1350- 1550 aC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_2"></label>
                                        <input type="text" class="form-control" name="fase_2" #fase_2="ngModel"
                                            [(ngModel)]="sitio.fase_2">
                                    </div>
                                </div>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="mil_quinientos_quinientos_ac" #mil_quinientos_quinientos_ac [(ngModel)]="sitio.mil_quinientos_quinientos_ac"
                                            (ngModelChange)="sitio.mil_quinientos_quinientos_ac=$event? true:false">
                                            <label class="form-check-label" for="mil_quinientos_quinientos_ac">1500 aC- 500 aC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_3"></label>
                                        <input type="text" class="form-control" name="fase_3" #fase_3="ngModel"
                                            [(ngModel)]="sitio.fase_3">
                                    </div>
                                </div>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="mil_quinientos_mil_ochocientos_dc" #mil_quinientos_mil_ochocientos_dc [(ngModel)]="sitio.mil_quinientos_mil_ochocientos_dc"
                                            (ngModelChange)="sitio.mil_quinientos_mil_ochocientos_dc=$event? true:false">
                                            <label class="form-check-label" for="mil_quinientos_mil_ochocientos_dc">1550- 1821 dC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_4"></label>
                                        <input type="text" class="form-control" name="fase_4" #fase_4="ngModel"
                                            [(ngModel)]="sitio.fase_4">
                                    </div>
                                </div>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="mil_ochocientos_mil_novecientos_sc" #mil_ochocientos_mil_novecientos_sc [(ngModel)]="sitio.mil_ochocientos_mil_novecientos_sc"
                                            (ngModelChange)="sitio.mil_ochocientos_mil_novecientos_sc=$event? true:false">
                                            <label class="form-check-label" for="mil_ochocientos_mil_novecientos_sc">1821- 1950 dC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_5"></label>
                                        <input type="text" class="form-control" name="fase_5" #fase_5="ngModel"
                                            [(ngModel)]="sitio.fase_5">
                                    </div>
                                </div>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="trescientos_ochocientos_dc" #trecientos_ochocientos_dc [(ngModel)]="sitio.trescientos_ochocientos_dc"
                                            (ngModelChange)="sitio.trescientos_ochocientos_dc=$event? true:false">
                                            <label class="form-check-label" for="trescientos_ochocientos_dc">300- 800 dC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_6"></label>
                                        <input type="text" class="form-control" name="fase_6" #fase_6="ngModel"
                                            [(ngModel)]="sitio.fase_6">
                                    </div>
                                </div>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="cuatro_mil_mil_quinientos_ac" #cuatro_mil_mil_quinientos_ac [(ngModel)]="sitio.cuatro_mil_mil_quinientos_ac"
                                            (ngModelChange)="sitio.cuatro_mil_mil_quinientos_ac=$event? true:false">
                                            <label class="form-check-label" for="cuatro_mil_mil_quinientos_ac">4000- 1500 aC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_7"></label>
                                        <input type="text" class="form-control" name="fase_7" #fase_7="ngModel"
                                            [(ngModel)]="sitio.fase_7">
                                    </div>
                                </div>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="quinientos_trecientos_dc" #quinientos_trecientos_dc [(ngModel)]="sitio.quinientos_trecientos_dc"
                                            (ngModelChange)="sitio.quinientos_trecientos_dc=$event? true:false">
                                            <label class="form-check-label" for="quinientos_trecientos_dc">500 aC- 300 dC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_8"></label>
                                        <input type="text" class="form-control" name="fase_8" #fase_8="ngModel"
                                            [(ngModel)]="sitio.fase_8">
                                    </div>
                                </div>
                            
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="ochocientos_mil_tres_cincuenta_dc" #ochocientos_mil_tres_cincuenta_dc [(ngModel)]="sitio.ochocientos_mil_tres_cincuenta_dc"
                                            (ngModelChange)="sitio.ochocientos_mil_tres_cincuenta_dc=$event? true:false">
                                            <label class="form-check-label" for="ochocientos_mil_tres_cincuenta_dc">800- 1350 dC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_9"></label>
                                        <input type="text" class="form-control" name="fase_9" #fase_9="ngModel"
                                            [(ngModel)]="sitio.fase_9">
                                    </div>
                                </div>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="ocho_mil_cuatro_mil_ac" #ocho_mil_cuatro_mil_ac [(ngModel)]="sitio.ocho_mil_cuatro_mil_ac"
                                            (ngModelChange)="sitio.ocho_mil_cuatro_mil_ac=$event? true:false">
                                            <label class="form-check-label" for="ocho_mil_cuatro_mil_ac">8000- 4000 aC</label>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="fase_10"></label>
                                        <input type="text" class="form-control" name="fase_10" #fase_10="ngModel"
                                            [(ngModel)]="sitio.fase_10">
                                    </div>
                                </div>

                                <hr>

                                <h3>Datación</h3>

                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <input class="form-check-input" type="checkbox" name="litica" #litica [(ngModel)]="sitio.litica"
                                            (ngModelChange)="sitio.litica=$event? true:false">
                                            <label class="form-check-label" for="litica">Lítica</label>
                                    </div>
                                    <div class="col-md-4">
                                        <input class="form-check-input" type="checkbox" name="radiocarbono_dat" #radiocarbono_dat [(ngModel)]="sitio.radiocarbono_dat"
                                        (ngModelChange)="sitio.radiocarbono_dat=$event? true:false">
                                        <label class="form-check-label" for="radiocarbono_dat">RadioCarbono</label>
                                    </div>
                                    <div class="col-md-4">
                                        <input class="form-check-input" type="checkbox" name="ceramica_dat" #ceramica_dat [(ngModel)]="sitio.ceramica_dat"
                                        (ngModelChange)="sitio.ceramica_dat=$event? true:false">
                                        <label class="form-check-label" for="ceramica_dat">Cerámica</label>
                                    </div>
                                </div>

                                <hr>

                                <div class="row g-3">
                                    
                                    <div class="col-md-6">
                                        <label for="fechamiento_adiometrico">Fechamiento Radiometrico</label>
                                        <input type="text" class="form-control" name="fechamiento_adiometrico" #fechamiento_adiometrico="ngModel"
                                            [(ngModel)]="sitio.fechamiento_adiometrico">
                                    </div>
                                </div>


                           
                        </div>

                    </div>
                </div> 

                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingFive">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseFive" aria-expanded="false" aria-controls="flush-collapseFive">
                            Trabajo Campo
                        </button>
                    </h2>

                    <div id="flush-collapseFive" class="accordion-collapse collapse" aria-labelledby="flush-headingFive"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">

                           
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <input class="form-check-input" type="checkbox" name="excavacion" #excavacion [(ngModel)]="sitio.excavacion"
                                            (ngModelChange)="sitio.excavacion=$event? true:false">
                                            <label class="form-check-label" for="excavacion">Excavación</label>
                                    </div>
                            
                                   
                                  
                                    <div class="col-md-3">
                                        <input class="form-check-input" type="checkbox" name="rec_superficie" #rec_superficie [(ngModel)]="sitio.rec_superficie"
                                        (ngModelChange)="sitio.rec_superficie=$event? true:false">
                                        <label class="form-check-label" for="rec_superficie">Rec Superficie</label>
                                    </div>

                                    <div class="col-md-3">
                                        <input class="form-check-input" type="checkbox" name="rec_propiedad" #rec_propiedad [(ngModel)]="sitio.rec_propiedad"
                                        (ngModelChange)="sitio.rec_propiedad=$event? true:false">
                                        <label class="form-check-label" for="rec_propiedad">Rec Propiedad</label>
                                    </div>

                                </div>
                                <hr>
                                <br>

                                <h3>Recolección Superficie</h3>

                                <div class="row">
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="arbitratia" #arbitratia [(ngModel)]="sitio.arbitratia"
                                            (ngModelChange)="sitio.arbitratia=$event? true:false">
                                            <label class="form-check-label" for="arbitratia">Arbitraria</label>
                                    </div>
                            
                                    <div class="col-md-6">
                                        <input class="form-check-input" type="checkbox" name="probabilistico" #probabilistico [(ngModel)]="sitio.probabilistico"
                                        (ngModelChange)="sitio.probabilistico=$event? true:false">
                                        <label class="form-check-label" for="probabilistico">Probabilistica</label>
                                    </div>

                                </div>  

                                <hr>
                                <br>

                                <h3>Levantamiento Cartográfico</h3>
                                <div class="col-md-12">
                                    <label for="levantamiento_cartografico"></label>
                                    <input type="text" class="form-control" name="levantamiento_cartografico" #levantamiento_cartografico="ngModel"
                                        [(ngModel)]="sitio.levantamiento_cartografico">
                                </div>
                            
                                <hr>
                                <br>

                                <h3>Excavación</h3>

                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input class="form-check-input" type="checkbox" name="cala_estratatigrafica" #cala_estratatigrafica [(ngModel)]="sitio.cala_estratatigrafica"
                                    (ngModelChange)="sitio.cala_estratatigrafica=$event? true:false">
                                    <label class="form-check-label" for="cala_estratatigrafica">Cala Estratatigrafica</label>
                                </div>
                                <div class="col-md-6">
                                    <input class="form-check-input" type="checkbox" name="limpieza_razgos" #limpieza_razgos [(ngModel)]="sitio.limpieza_razgos"
                                    (ngModelChange)="sitio.limpieza_razgos=$event? true:false">
                                    <label class="form-check-label" for="limpieza_razgos">Limpieza Razgos</label>
                                </div>
                            </div>

                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input class="form-check-input" type="checkbox" name="horizontal" #horizontal [(ngModel)]="sitio.horizontal"
                                    (ngModelChange)="sitio.horizontal=$event? true:false">
                                    <label class="form-check-label" for="horizontal">Horizontal</label>
                                </div>
                                <div class="col-md-6">
                                    <input class="form-check-input" type="checkbox" name="sondeo" #sondeo [(ngModel)]="sitio.sondeo"
                                    (ngModelChange)="sitio.sondeo=$event? true:false">
                                    <label class="form-check-label" for="sondeo">Sondeo</label>
                                </div>
                            </div>

                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input class="form-check-input" type="checkbox" name="limpieza_perfiles" #limpieza_perfiles [(ngModel)]="sitio.limpieza_perfiles"
                                    (ngModelChange)="sitio.limpieza_perfiles=$event? true:false">
                                    <label class="form-check-label" for="limpieza_perfiles">Limpieza Perfiles</label>
                                </div>
                                <div class="col-md-6">
                                    <input class="form-check-input" type="checkbox" name="trinchera" #trinchera [(ngModel)]="sitio.trinchera"
                                    (ngModelChange)="sitio.trinchera=$event? true:false">
                                    <label class="form-check-label" for="trinchera">Trinchera</label>
                                </div>
                            </div>

                            <hr>
                            <br>

                           

                            <div class="row g-3">
                              <ng-multiselect-dropdown
                                [placeholder]="'Materiales Recuperados'"
                                [settings]="dropdownSettings"
                                [data]="dropdownList"
                                [(ngModel)]="selectedItems"
                                [ngModelOptions]="{standalone: true}"
                                (onSelect)="onItemSelect($event)"
                                (onSelectAll)="onSelectAll($event)"
                                [ngModelOptions]="{standalone: true}"
                              >
                              </ng-multiselect-dropdown> 
                            </div> 

                          
                        </div>

                    </div>
                </div>

                 <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingSix">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseSix" aria-expanded="false" aria-controls="flush-collapseSix">
                            Generalidades
                        </button>
                    </h2>

                    <div id="flush-collapseSix" class="accordion-collapse collapse" aria-labelledby="flush-headingSix"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">

                           
                                <div class="row g-3">
                                    <div class="col-md-6">
                                    <label for="investigador">Investigador</label>
                                        <input type="text" class="form-control" name="investigador" #investigador="ngModel"
                                            [(ngModel)]="sitio.investigador">
                                    </div>
                                    <div class="col-md-6">
                                            <label for="area_estimada">Área Estimada</label>
                                            <input type="text" class="form-control" name="area_estimada" #area_estimada="ngModel"
                                                [(ngModel)]="sitio.area_estimada">
                                    </div>
                                </div>

                                <hr>

                                <div class="row g-3">
                                    <label for="profundidad_depositos">Profundidad Depósitos</label>
                                        <input type="text" class="form-control" name="profundidad_depositos" #profundidad_depositos="ngModel"
                                            [(ngModel)]="sitio.profundidad_depositos">
                                </div>
                                <hr>

                                <div class="row g-3">
                                    <label for="causa_penal">Causa Penal</label>
                                        <input type="text" class="form-control" name="causa_penal" #causa_penal="ngModel"
                                            [(ngModel)]="sitio.causa_penal">
                                </div>
                                <hr>
                            
                                <div class="row g-3">
                                    <ng-multiselect-dropdown
                                    [placeholder]="'Estado de Conservación'"
                                    [settings]="dropdownSettings"
                                    [data]="dropdownList2"
                                    [(ngModel)]="selectedItems"
                                    [ngModelOptions]="{standalone: true}"
                                    (onSelect)="onItemSelect2($event)"
                                    (onSelectAll)="onSelectAll($event)"
                                  >
                                  </ng-multiselect-dropdown> 
                                  <input type="text" class="form-control" name="estado_conservacion" #estado_conservacion="ngModel"
                                  [(ngModel)]="sitio.estado_conservacion">
                                </div> 
                                <hr>

                                <div class="row g-3">
                                    <label for="expediente_setena">Expediente Setena</label>
                                        <input type="text" class="form-control" name="expediente_setena" #expediente_setena="ngModel"
                                            [(ngModel)]="sitio.expediente_setena">
                                </div>
                                <hr>

                                <div class="row g-3">
                                   <ng-multiselect-dropdown
                                    [placeholder]="'Patrimonio Sub Acuático'"
                                    [settings]="dropdownSettings"
                                    [data]="dropdownList3"
                                    [(ngModel)]="selectedItems"
                                    [ngModelOptions]="{standalone: true}"
                                    (onSelect)="onItemSelect3($event)"
                                    (onSelectAll)="onSelectAll($event)"
                                  >
                                  </ng-multiselect-dropdown>
                                </div> 
                                <hr>

                                <div class="row g-3">
                                    <input class="form-check-input" type="checkbox" name="reserva_arqueologica" #reserva_arqueologica [(ngModel)]="sitio.reserva_arqueologica"
                                        (ngModelChange)="sitio.reserva_arqueologica=$event? true:false">
                                        <label class="form-check-label" for="reserva_arqueologica">Reserva Arqueológica</label>

                                   
                                </div>
                                <hr>

                                <div class="row g-3">
                                    <label for="rio_cercano">Río Cercano</label>
                                        <input type="text" class="form-control" name="rio_cercano" #rio_cercano="ngModel"
                                            [(ngModel)]="sitio.rio_cercano">
                                </div>
                                <hr>

                                <div class="row g-3">
                                    <label for="plano_catrasto">Plano Catastro</label>
                                        <input type="text" class="form-control" name="plano_catrasto" #plano_catrasto="ngModel"
                                            [(ngModel)]="sitio.plano_catrasto">
                                </div>
                                <hr>


                        </div>

                    </div>
                </div> 

                 <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingEight">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#flush-collapseEight" aria-expanded="false" aria-controls="flush-collapseEight">
                            Material Documental
                        </button>
                    </h2>

                    <div id="flush-collapseEight" class="accordion-collapse collapse" aria-labelledby="flush-headingEight"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">

                            
                          
                                <div class="row g-3">
                                    <div class="col-md-4">
                                    <label for="nombre_sitio">Nombre Sitio</label>
                                        <input type="text" class="form-control" name="nombre_sitio" #nombre_sitio="ngModel"
                                            [(ngModel)]="sitio.nombre_sitio">

                                    </div>
                                    <div class="col-md-4">
                                        <label for="clave_sitio">Clave Sitio</label>
                                            <input type="text" class="form-control" name="clave_sitio" #clave_sitio="ngModel"
                                                [(ngModel)]="sitio.clave_sitio">
    
                                        </div>

                                        <div class="col-md-4">
                                            <label for="tipo_informacion">Tipo Información</label>
                                                <input type="text" class="form-control" name="tipo_informacion" #tipo_informacion="ngModel"
                                                    [(ngModel)]="sitio.doc_tipo_info">
        
                                            </div>
                                </div>
                               

                                <div class="row g-3">
                                    <div class="col-md-4">
                                    <label for="doc_ubicacion">Ubicación</label>
                                        <input type="text" class="form-control" name="doc_ubicacion" #doc_ubicacion="ngModel"
                                            [(ngModel)]="sitio.doc_ubicacion">

                                    </div>
                                    <div class="col-md-4">
                                        <label for="doc_numero">Número</label>
                                            <input type="text" class="form-control" name="doc_numero" #doc_numero="ngModel"
                                                [(ngModel)]="sitio.doc_numero">
    
                                        </div>
                                </div>
                                <hr>

                                <div class="row g-3">
                                    <div class="col-md-4">
                                    <label for="doc_autor">Autor</label>
                                        <input type="text" class="form-control" name="doc_autor" #doc_autor="ngModel"
                                            [(ngModel)]="sitio.doc_autor">

                                    </div>
                                    <div class="col-md-4">
                                        <label for="doc_titulo">Título</label>
                                            <input type="text" class="form-control" name="doc_titulo" #doc_titulo="ngModel"
                                                [(ngModel)]="sitio.doc_titulo">
    
                                        </div>
                                    <div class="col-md-4">
                                        <label for="doc_fecha_digita">Fecha</label>
                                            <input type="date" class="form-control" name="doc_fecha_digita" #doc_fecha_digita="ngModel"
                                                [(ngModel)]="sitio.doc_fecha_digita">
    
                                        </div>
                                </div>

                                <div class="row g-3">
                                    <div class="col-md-12">
                                    <label for="doc_contenido">Contenido</label>
                                        <input type="text" class="form-control" name="doc_contenido" #doc_contenido="ngModel"
                                            [(ngModel)]="sitio.doc_contenido">

                                    </div>
                                    
                                </div>
                                <hr>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                    <label for="doc_observaciones">Observaciones</label>
                                        <input type="text" class="form-control" name="doc_observaciones" #doc_observaciones="ngModel"
                                            [(ngModel)]="sitio.doc_observaciones">

                                    </div>

                                    <div class="col-md-6">
                                        <label for="doc_web">Web</label>
                                            <input type="text" class="form-control" name="doc_web" #doc_web="ngModel"
                                                [(ngModel)]="sitio.doc_web">
    
                                        </div>
                                    
                                </div>
                                <hr>

                                <div class="row g-3">
                                  <ng-multiselect-dropdown
                                    [placeholder]="'Descripción Material Gráfico'"
                                    [settings]="dropdownSettings"
                                    [data]="dropdownList4"
                                    [(ngModel)]="selectedItems"
                                    [ngModelOptions]="{standalone: true}"
                                    (onSelect)="onItemSelect4($event)"
                                    (onSelectAll)="onSelectAll($event)"
                                  >
                                  </ng-multiselect-dropdown>
                                  <hr>

                                </div> 
                            
                                <div class="col-md-12">
                                    <label for="doc_contenido">Links Asociados</label>
                                    <textarea class="form-control" rows="3" name="links" #doc_contenido="ngModel"
                                    [(ngModel)]="sitio.links"></textarea>
                                        

                                    </div>
                    
                        </div>

                    </div>
                </div>

            </div>

        

                 <div class="form-group">
                    <h2>Subir Imagen Principal ó PDF</h2>
                     <div class="image-thumb" *ngIf="is_edit">
                        
                            <img src="{{url + 'get-image/' + sitio.image}}" alt="{{sitio.nombre_sitio}}" *ngIf="sitio.image"/>

                            <img src="assets/images/default.png" alt="{{sitio.nombre_sitio}}" *ngIf="!sitio.image"/>               
                    
                    </div> 
                    
                    
                   
                    <angular-file-uploader
                        [config]="afuConfig"
                        (ApiResponse)="imageUpload($event)">
                    </angular-file-uploader>
                
                </div>
 
                <div>
                    <h2>Subir Varias Imágenes</h2>
                    <input type="file" accept=".png, .jpg, .jpeg" multiple (change)="cargarImagen($event)"/>
                </div>

                <Hr>

                <div class="form-group">
                <input type="submit" value="Guardar" class="btn btn-success"/>
             </div>

        </form>


           
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
        
    </section>

    <div class="clearfix"></div>

</div> -->
<mat-accordion>
  <mat-expansion-panel [expanded]="true">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Datos Generales
      </mat-panel-title>
      <p class="text-muted">Ingrese aquí la información básica del sitio arqueológico.</p>

    </mat-expansion-panel-header>

    <mat-card>
      <mat-card-content>
        <div fxLayout="row wrap" fxLayoutGap="16px">

          <!-- Nombre Monumento -->
          <mat-form-field fxFlex="24" appearance="outline">
            <mat-label>Nombre del Monumento</mat-label>
            <input matInput [(ngModel)]="sitio.nombre_sitio" name="nombre_sitio">
            <mat-icon matSuffix>location_on</mat-icon>
          </mat-form-field>

          <!-- Clave -->
          <mat-form-field fxFlex="24" appearance="outline">
            <mat-label>Clave</mat-label>
            <input matInput [(ngModel)]="sitio.clave_sitio" name="clave_sitio">
          </mat-form-field>

          <!-- Clave Antigua -->
          <mat-form-field fxFlex="24" appearance="outline">
            <mat-label>Clave Antigua</mat-label>
            <input matInput [(ngModel)]="sitio.clave_antigua" name="clave_antigua">
          </mat-form-field>

          <!-- Clave UCR -->
          <mat-form-field fxFlex="24" appearance="outline">
            <mat-label>Clave UCR</mat-label>
            <input matInput [(ngModel)]="sitio.cod_ucr" name="cod_ucr">
          </mat-form-field>

        </div>
      </mat-card-content>
    </mat-card>
  </mat-expansion-panel>



<mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>Registro</mat-panel-title>
    </mat-expansion-panel-header>
  
    <mat-card>
      <mat-card-content>
  
        <!-- Registrador -->
        <mat-form-field appearance="outline" fxFlex="100">
          <mat-label>Registrador</mat-label>
          <input matInput [(ngModel)]="sitio.registrador" name="registrador">
        </mat-form-field>
  
        
        <!-- Institución -->
        <p><strong>Institución del Registrador</strong></p>
  
        <div fxLayout="row wrap" fxLayoutGap="16px">
          <mat-checkbox [(ngModel)]="sitio.consultoria" name="consultoria">Consultoría</mat-checkbox>
          <mat-checkbox [(ngModel)]="sitio.fundacion" name="fundacion">Anastasio Alfaro</mat-checkbox>
          <mat-checkbox [(ngModel)]="sitio.ice" name="ice">ICE</mat-checkbox>
          <mat-checkbox [(ngModel)]="sitio.literatura" name="literatura">Literatura</mat-checkbox>
          <mat-checkbox [(ngModel)]="sitio.mncr" name="mncr">MNCR</mat-checkbox>
          <mat-checkbox [(ngModel)]="sitio.parques_nacionales" name="parques_nacionales">Parques Nacionales</mat-checkbox>
          <mat-checkbox [(ngModel)]="sitio.ucr" name="ucr">UCR</mat-checkbox>
        </div>
  
        
  
        <!-- Hallazgo -->
        <mat-form-field appearance="outline" fxFlex="100">
          <mat-label>Hallazgo</mat-label>
          <input matInput [(ngModel)]="sitio.hallazgo" name="hallazgo">
        </mat-form-field>
  
        <!-- Fecha Registro -->
        <mat-form-field appearance="outline" fxFlex="100">
          <mat-label>Fecha de Registro</mat-label>
          <input matInput [matDatepicker]="picker" [(ngModel)]="sitio.fecha_registro" name="fecha_registro">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
  
      </mat-card-content>
    </mat-card>
  </mat-expansion-panel>
  
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>Localización</mat-panel-title>
    </mat-expansion-panel-header>
  
    <mat-card>
      <mat-card-content>
        <!-- UBICACIÓN ADMINISTRATIVA -->
        <h4>Ubicación Administrativa</h4>
        <div fxLayout="row wrap" fxLayoutGap="16px">
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>Provincia</mat-label>
            <input matInput [(ngModel)]="sitio.provincia" name="provincia">
          </mat-form-field>
  
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>Cantón</mat-label>
            <input matInput [(ngModel)]="sitio.canton" name="canton">
          </mat-form-field>
  
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>Distrito</mat-label>
            <input matInput [(ngModel)]="sitio.distrito" name="distrito">
          </mat-form-field>
  
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>Hoja Cartográfica</mat-label>
            <input matInput [(ngModel)]="sitio.hoja_cartografica" name="hoja_cartografica">
          </mat-form-field>
  
          <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>Dirección</mat-label>
            <input matInput [(ngModel)]="sitio.direccion" name="direccion">
          </mat-form-field>
        </div>
  
        <mat-divider class="my-4"></mat-divider>
  
        <!-- ENTORNO AMBIENTAL -->
        <h4>Entorno Ambiental</h4>
        <div fxLayout="row wrap" fxLayoutGap="16px">
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>Región Arqueológica</mat-label>
            <input matInput [(ngModel)]="sitio.region" name="region">
          </mat-form-field>
  
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>Zona de Vida</mat-label>
            <input matInput [(ngModel)]="sitio.zona_vida" name="zona_vida">
          </mat-form-field>
  
          <mat-form-field appearance="outline" fxFlex="20">
            <mat-label>Altitud</mat-label>
            <input matInput type="number" [(ngModel)]="sitio.altitud" name="altitud">
          </mat-form-field>
  
          <mat-checkbox [(ngModel)]="sitio.territorio_indigena" name="territorio_indigena">
            Territorio indígena
          </mat-checkbox>
        </div>
  
        <mat-divider class="my-4"></mat-divider>
  
        <!-- COORDENADAS -->
        <h4>Coordenadas</h4>
        <div fxLayout="row wrap" fxLayoutGap="16px">
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>Lambert OE</mat-label>
            <input matInput [(ngModel)]="sitio.lambert_oe" name="lambert_oe">
          </mat-form-field>
  
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>Lambert NS</mat-label>
            <input matInput [(ngModel)]="sitio.lambert_ns" name="lambert_ns">
          </mat-form-field>
  
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>CRTM05 N</mat-label>
            <input matInput type="number" [(ngModel)]="sitio.crtm05_n" name="crtm05_n">
          </mat-form-field>
  
          <mat-form-field appearance="outline" fxFlex="30">
            <mat-label>CRTM05 E</mat-label>
            <input matInput type="number" [(ngModel)]="sitio.crtm05_e" name="crtm05_e">
          </mat-form-field>
        </div>
  
        <h4>Latitud / Longitud (Grados, Minutos, Segundos)</h4>
        <div fxLayout="row wrap" fxLayoutGap="16px">
          <mat-form-field fxFlex="20" appearance="outline">
            <mat-label>Grados Latitud</mat-label>
            <input matInput type="number" [(ngModel)]="sitio.grad_lat" name="grad_lat">
          </mat-form-field>
  
          <mat-form-field fxFlex="20" appearance="outline">
            <mat-label>Minutos</mat-label>
            <input matInput type="number" [(ngModel)]="sitio.min_lat" name="min_lat">
          </mat-form-field>
  
          <mat-form-field fxFlex="20" appearance="outline">
            <mat-label>Segundos</mat-label>
            <input matInput type="number" [(ngModel)]="sitio.seg_lat" name="seg_lat" (change)="cambiarcoordenadas()">
          </mat-form-field>
  
          <mat-form-field fxFlex="30" appearance="outline" disabled>
            <mat-label>Latitud Decimal</mat-label>
            <input matInput [value]="sitio.latitude">
          </mat-form-field>
        </div>
  
        <div fxLayout="row wrap" fxLayoutGap="16px">
          <mat-form-field fxFlex="20" appearance="outline">
            <mat-label>Grados Longitud</mat-label>
            <input matInput type="number" [(ngModel)]="sitio.grad_long" name="grad_long">
          </mat-form-field>
  
          <mat-form-field fxFlex="20" appearance="outline">
            <mat-label>Minutos</mat-label>
            <input matInput type="number" [(ngModel)]="sitio.min_long" name="min_long">
          </mat-form-field>
  
          <mat-form-field fxFlex="20" appearance="outline">
            <mat-label>Segundos</mat-label>
            <input matInput type="number" [(ngModel)]="sitio.seg_log" name="seg_log" (change)="cambiarcoordenadaslong()">
          </mat-form-field>
  
          <mat-form-field fxFlex="30" appearance="outline" disabled>
            <mat-label>Longitud Decimal</mat-label>
            <input matInput [value]="sitio.Logitude">
          </mat-form-field>
        </div>
  
        <!-- GPS Checkbox -->
        <mat-checkbox [(ngModel)]="sitio.localizacion_gps" name="localizacion_gps">
          Localización GPS
        </mat-checkbox>
      </mat-card-content>
    </mat-card>
  </mat-expansion-panel>
  


<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      Temporalidad
    </mat-panel-title>
    <mat-panel-description>
      Seleccione el periodo y detalle la fase cronológica
    </mat-panel-description>
  </mat-expansion-panel-header>

  <!-- Composición Cronológica + Técnicas de Datación alineadas -->
  <div fxLayout="row" fxLayoutGap="3rem" fxLayoutAlign="space-between start" class="seccion-form" style="margin-bottom: 1rem;">

    <!-- Columna 1: Composición y Períodos -->
    <div fxFlex="50">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Composición Cronológica</mat-label>
        <input matInput [(ngModel)]="sitio.composicion_cronologica" name="composicion_cronologica">
      </mat-form-field>

      <h3 class="seccion-titulo">Períodos Cronológicos</h3>
      <div fxLayout="column" fxLayoutGap="1rem">
        <div fxLayout="row" fxLayoutAlign="start center" *ngFor="let periodo of periodos">
          <mat-checkbox [(ngModel)]="sitio[periodo.campo]" [name]="periodo.campo">
            {{periodo.etiqueta}}
          </mat-checkbox>

          <mat-form-field appearance="fill" *ngIf="sitio[periodo.campo]" style="margin-left: 1rem; width: 200px;">
            <mat-label>Fase</mat-label>
            <input matInput [(ngModel)]="sitio[periodo.fase]" [name]="periodo.fase">
          </mat-form-field>
        </div>
      </div>
    </div>

    <!-- Columna 2: Técnicas -->
    <div fxFlex="40">
      <h3 class="seccion-titulo">Técnicas de Datación</h3>
      <div fxLayout="column" fxLayoutGap="0.5rem">
        <mat-checkbox [(ngModel)]="sitio.litica" name="litica">Lítica</mat-checkbox>
        <mat-checkbox [(ngModel)]="sitio.radiocarbono_dat" name="radiocarbono_dat">Radiocarbono</mat-checkbox>
        <mat-checkbox [(ngModel)]="sitio.ceramica_dat" name="ceramica_dat">Cerámica</mat-checkbox>
      </div>

      <div style="margin-top: 1rem;">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Fechamiento Radiométrico</mat-label>
          <input matInput [(ngModel)]="sitio.fechamiento_adiometrico" name="fechamiento_adiometrico">
        </mat-form-field>
      </div>
    </div>

  </div>
</mat-expansion-panel>

<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      Trabajo de Campo
    </mat-panel-title>
  </mat-expansion-panel-header>

  <!-- Grupo de trabajo de campo -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 p-4">
    <mat-checkbox [(ngModel)]="sitio.excavacion">Excavación</mat-checkbox>
    <mat-checkbox [(ngModel)]="sitio.rec_superficie">Rec Superficie</mat-checkbox>
    <mat-checkbox [(ngModel)]="sitio.rec_propiedad">Rec Propiedad</mat-checkbox>
  </div>

  <mat-divider></mat-divider>
  <h3 class="text-lg font-semibold px-4 mt-4">Recolección Superficie</h3>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-4">
    <mat-checkbox [(ngModel)]="sitio.arbitratia">Arbitraria</mat-checkbox>
    <mat-checkbox [(ngModel)]="sitio.probabilistico">Probabilística</mat-checkbox>
  </div>

  <mat-divider></mat-divider>
  <h3 class="text-lg font-semibold px-4 mt-4">Levantamiento Cartográfico</h3>

  <div class="p-4">
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Levantamiento Cartográfico</mat-label>
      <input matInput [(ngModel)]="sitio.levantamiento_cartografico">
    </mat-form-field>
  </div>

  <mat-divider></mat-divider>
  <h3 class="text-lg font-semibold px-4 mt-4">Excavación</h3>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-4">
    <mat-checkbox [(ngModel)]="sitio.cala_estratatigrafica">Cala Estratatigráfica</mat-checkbox>
    <mat-checkbox [(ngModel)]="sitio.limpieza_razgos">Limpieza Rasgos</mat-checkbox>
    <mat-checkbox [(ngModel)]="sitio.horizontal">Horizontal</mat-checkbox>
    <mat-checkbox [(ngModel)]="sitio.sondeo">Sondeo</mat-checkbox>
    <mat-checkbox [(ngModel)]="sitio.limpieza_perfiles">Limpieza Perfiles</mat-checkbox>
    <mat-checkbox [(ngModel)]="sitio.trinchera">Trinchera</mat-checkbox>
  </div>

    <mat-divider></mat-divider>

    <mat-form-field appearance="outline" class="w-full">
  <mat-label>Materiales Recuperados</mat-label>
  <mat-select [(ngModel)]="sitio.materiales_recuperados" multiple>
    <mat-option *ngFor="let material of materialesDisponibles" [value]="material">
      {{ material }}
    </mat-option>
  </mat-select>
</mat-form-field>
  
</mat-expansion-panel>

<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>Generalidades</mat-panel-title>
  </mat-expansion-panel-header>

  <div class="p-4 grid grid-cols-1 md:grid-cols-2 gap-4">

    <!-- Investigador -->
    <mat-form-field appearance="outline">
      <mat-label>Investigador</mat-label>
      <input matInput [(ngModel)]="sitio.investigador" name="investigador">
    </mat-form-field>

    <!-- Área estimada -->
    <mat-form-field appearance="outline">
      <mat-label>Área Estimada</mat-label>
      <input matInput [(ngModel)]="sitio.area_estimada" name="area_estimada">
    </mat-form-field>

    <!-- Profundidad depósitos -->
    <mat-form-field appearance="outline" class="md:col-span-2">
      <mat-label>Profundidad Depósitos</mat-label>
      <input matInput [(ngModel)]="sitio.profundidad_depositos" name="profundidad_depositos">
    </mat-form-field>

    <!-- Causa penal -->
    <mat-form-field appearance="outline" class="md:col-span-2">
      <mat-label>Causa Penal</mat-label>
      <input matInput [(ngModel)]="sitio.causa_penal" name="causa_penal">
    </mat-form-field>

    <!-- Estado de conservación -->
    <mat-form-field appearance="outline" class="md:col-span-2">
      <mat-label>Estado de Conservación</mat-label>
      <mat-select [(ngModel)]="sitio.estado_conservacion" multiple>
        <mat-option *ngFor="let estado of estadosConservacion" [value]="estado">
          {{ estado }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Expediente SETENA -->
    <mat-form-field appearance="outline" class="md:col-span-2">
      <mat-label>Expediente SETENA</mat-label>
      <input matInput [(ngModel)]="sitio.expediente_setena" name="expediente_setena">
    </mat-form-field>

    <!-- Patrimonio Subacuático -->
    <mat-form-field appearance="outline" class="md:col-span-2">
      <mat-label>Patrimonio Subacuático</mat-label>
      <mat-select [(ngModel)]="sitio.patrimonio_acuatico" multiple>
        <mat-option *ngFor="let item of patrimonioOpciones" [value]="item">
          {{ item }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Reserva arqueológica -->
    <mat-checkbox [(ngModel)]="sitio.reserva_arqueologica" name="reserva_arqueologica">
      Reserva Arqueológica
    </mat-checkbox>

    <!-- Río cercano -->
    <mat-form-field appearance="outline">
      <mat-label>Río Cercano</mat-label>
      <input matInput [(ngModel)]="sitio.rio_cercano" name="rio_cercano">
    </mat-form-field>

    <!-- Plano Catastro -->
    <mat-form-field appearance="outline">
      <mat-label>Plano Catastro</mat-label>
      <input matInput [(ngModel)]="sitio.plano_catrasto" name="plano_catrasto">
    </mat-form-field>

  </div>
</mat-expansion-panel>

<button mat-fab color="primary" class="boton-flotante" (click)="volverInicio()" matTooltip="Regresar al inicio">
  <mat-icon>home</mat-icon>
</button>
</mat-accordion>


