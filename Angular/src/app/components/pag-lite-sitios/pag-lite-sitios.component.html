

 <app-header></app-header>

 <div class="home-button-container">
  <a [routerLink]="['/pag-ori']" mat-icon-button matTooltip="Volver al inicio" class="btn-home">
    <mat-icon>home</mat-icon>
  </a>
  
  <mat-form-field class="search-form-field" floatLabel="never">
    <input matInput [(ngModel)]="searchKey" placeholder="Buscar..." autocomplete="off" (keyup)="applyFilter()">
    <button mat-button matSuffix mat-icon-button aria-label="Clear" *ngIf="searchKey" (click)="onSearchClear()">
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>
</div>

<!-- Tarjetas de resultados -->
<div class="tarjetas-container" *ngIf="listData">
  <mat-card *ngFor="let element of listData.filteredData" class="tarjeta-sitio">
    <mat-card-title>{{ element.nombre_sitio }}</mat-card-title>
    <mat-card-subtitle>Clave: {{ element.clave_sitio }}</mat-card-subtitle>

    <mat-card-content>
      <p><mat-icon>place</mat-icon> Provincia: <strong>{{ element.provincia }}</strong></p>
      <p><mat-icon>domain</mat-icon> Cantón: <strong>{{ element.canton }}</strong></p>
      <p><mat-icon>location_city</mat-icon> Distrito: <strong>{{ element.distrito }}</strong></p>
    </mat-card-content>

     <mat-card-actions>
      <button mat-button color="primary" (click)="openDialog(element._id)">
        Leer más <mat-icon>launch</mat-icon>
      </button>
    </mat-card-actions> 
  </mat-card>
</div>

<!-- Paginador solo si hay datos cargados -->
<mat-paginator *ngIf="listData"
  [pageSizeOptions]="[5, 10, 25, 100]"
  [pageSize]="25"
  showFirstLastButtons>
</mat-paginator>
